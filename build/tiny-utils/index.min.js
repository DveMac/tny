(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.returnExports=factory()}})(this,function(){var ap=Array.prototype,op=Object.prototype,toString=op.toString,nativeForEach=ap.forEach,nativeMap=ap.map,nativeReduce=ap.reduce,nativeIsArray=Array.isArray;function thrw(msg){throw new Error(msg)}function copyFn(a,b){return function(prop){a[prop]=b[prop]}}function isFunction(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)}var isArray=nativeIsArray||function(obj){return toString.call(obj)==="[object Array]"};function noop(){}noop.returns=function(arg){return function(){return arg}};function forEach(o,iter,ctx){if(o===undefined){return o}if(nativeForEach&&o.forEach===nativeForEach){return o.forEach(iter,ctx)}for(var k in o){iter.call(ctx,o[k],k)}}function map(o,iter,ctx){var result=[];if(o===undefined){return result}if(nativeMap&&o.map===nativeMap)return o.map(iter,ctx);forEach(o,function(v,k){result.push(iter(v,k))},ctx);return result}function reduce(o,iter,memo,ctx){if(o===undefined){o=[]}if(nativeReduce&&o.reduce===nativeReduce){return o.reduce(iter,memo.bind(ctx))}forEach(o,function(value,index,list){memo=iter.call(ctx,memo,value,index,list)});return memo}function extend(o){forEach(Array.prototype.slice.call(arguments,1),function(source){if(source){forEach(source,copyFn(o,source))}});return o}function pick(o,p){var result={};if(!isArray(p)){thrw("missing arg")}forEach(o,function(v,k){if(!!~p.indexOf(k)){result[k]=v}});return result}return{isArray:isArray,isFunction:isFunction,noop:noop,forEach:forEach,map:map,reduce:reduce,pick:pick,extend:extend,filter:Array.prototype.filter}});